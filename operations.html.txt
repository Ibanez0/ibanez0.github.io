<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.7 [en] (Win95; I) [Netscape]">
   <meta name="Author" content="Michel RAULET">
   <meta name="Description" content="Simulation des opérations, définitions, rôle des joueurs, scénario, supervision du jeu, tableau horaire, autres documents de jeu.">
   <title>Mod&eacute;lisme ferroviaire et simulation</title>
<link REL="stylesheet" TYPE="text/css" HREF="../styles/page.css">
</head>
<body text="#000000" bgcolor="#FFEECC" link="#0000EE" vlink="#551A8B" alink="#FF0000">

<div class="titre">Mod&eacute;lisme ferroviaire et simulation</div>

<center><b><a href="main.html">RETOUR A LA PAGE PRINCIPALE</a></b></center>

<h1>
Pr&eacute;sentation</h1>
Je suis particuli&egrave;rement int&eacute;ress&eacute; par l'exploitation
des r&eacute;seaux mod&egrave;les, surtout d'un point de vue ludique. &Agrave;
l'aide d'Internet, je souhaite &eacute;changer des id&eacute;es avec des
mod&eacute;listes int&eacute;ress&eacute;s par le m&ecirc;me sujet. Ces
quelques pages tentent d'expliquer mon point de vue &agrave; ce jour. Je
construis actuellement un <a href="reseau.html">r&eacute;seau</a> qui devrait
me permettre de mettre en pratique les id&eacute;es expos&eacute;es ci-dessous.
Ce r&eacute;seau est encore loin d'&ecirc;tre achev&eacute;, mais il me
permet dej&agrave; en l'&eacute;tat de valider plusieurs id&eacute;es et
de progresser sur ce sujet.
<br>&nbsp;
<ul>
<li>
<a href="#presentation">Mon projet : un jeu interactif</a></li>

<ul>
<li>
Le but du jeu</li>

<li>
Les contraintes d'exploitation</li>

<li>
Les scores</li>
</ul>

<li>
<a href="#definitions">Les d&eacute;finitions pr&eacute;alables</a></li>

<ul>
<li>
Les sites et b&acirc;timents</li>

<li>
Les trains</li>
</ul>

<li>
<a href="#roles">Le r&ocirc;le des joueurs</a></li>

<ul>
<li>
Le conducteur</li>

<li>
Le chef de gare ou de zone</li>

<li>
Le chef du centre de triage cach&eacute; (coulisse)</li>
</ul>

<li>
<a href="#scenario">Le sc&eacute;nario</a></li>

<ul>
<li>
Le trafic</li>

<li>
La simulation du trafic minimal</li>
</ul>

<li>
<a href="#conception">La conception du r&eacute;seau pour le jeu</a></li>

<ul>
<li>
Voie unique ou double voie ?</li>

<li>
Boucle de retournement / topographie du r&eacute;seau ?</li>

<li>
Zones cach&eacute;es (accessibilit&eacute;) ?</li>

<li>
Pont tournant ou triangle de voies ?</li>

<li>
Pr&eacute;paration des trains avant ou pendant (coulisse) ?</li>

<li>
Allongement artificiel des dur&eacute;es</li>

<li>
Th&egrave;me ?</li>

<li>
Organisation du jeu ?</li>
</ul>

<li>
<a href="#commande">La commande du r&eacute;seau</a></li>

<li>
<a href="#supervision">La supervision et le logiciel de jeu</a></li>

<ul>
<li>
Le programme de supervision</li>

<li>
Le programme de g&eacute;n&eacute;ration de sc&eacute;nario</li>
</ul>

<li>
<a href="#documents">Les documents pour la simulation</a></li>

<ul>
<li>
Tableau horaire</li>

<li>
Liste de r&eacute;partition des wagons (sc&eacute;nario 1)</li>
</ul>
</ul>

<h1>
<a NAME="presentation"></a>Mon projet : un jeu interactif</h1>
La construction d'un r&eacute;seau enti&egrave;rement automatique, o&ugrave;
l'observateur regarde le mouvement des trains sans rien faire peut constituer
un certain d&eacute;fi technique, mais apporte selon moi peu d'int&eacute;r&ecirc;t
&agrave; son constructeur une fois mis au point (&agrave; part peut-&ecirc;tre
la programmation de nouveaux itin&eacute;raires).
<p>En revanche, une exploitation &agrave; plusieurs joueurs, responsables
de conduire leur train d'un point &agrave; un autre, avec le respect des
contraintes structurelles du r&eacute;seau et de r&egrave;gles de jeu &eacute;dict&eacute;es
au pr&eacute;alable retient actuellement mon attention. Cette id&eacute;e
n'est pas nouvelle, loin de l&agrave;.
<p>Associ&eacute; &agrave; un syst&egrave;me de supervision, mon r&eacute;seau
pourrait &ecirc;tre consid&eacute;r&eacute; comme un jeu interactif, je
m'explique : comme pour un r&eacute;seau enti&egrave;rement automatique,
un ordinateur serait utilis&eacute;, non pas pour piloter les trains mais
plut&ocirc;t pour superviser les actions des joueurs et calculer une sorte
de score relativement &agrave; chaque joueur.
<h2>
<a NAME="but"></a>Le but du jeu</h2>
L'ensemble des joueurs doit d&eacute;rouler un sc&eacute;nario sur une
dur&eacute;e donn&eacute;e en temps acc&eacute;l&eacute;r&eacute;. Le trafic
doit &ecirc;tre &eacute;coul&eacute; en respectant les horaires &eacute;tablis
:
<ul>
<li>
les trains de voyageurs doivent circuler en respectant les d&eacute;parts
et arriv&eacute;es en gare ;</li>

<li>
les wagons de marchandise doivent &ecirc;tre livr&eacute;s &agrave; temps
sur leur lieu de destination.</li>
</ul>

<h2>
<a NAME="contraintes"></a>Les contraintes d'exploitation</h2>
Les contraintes qui doivent &ecirc;tre respect&eacute;es par les joueurs
sont :
<ul>
<li>
signaux (s&eacute;maphore, ralentissement, etc.) ;</li>

<li>
horaires de passage et d'arriv&eacute;e ;</li>

<li>
vitesses impos&eacute;es, que ce soit par les panneaux ou signaux, ou la
vitesse maximale autoris&eacute;e des locos et wagons ;</li>

<li>
consommations** (charbon, eau, fuel) ;</li>

<li>
pannes simul&eacute;es ou incidents ;</li>

<li>
contraintes d'infrastructure (ex : charge maximum des trains) ;</li>

<li>
proc&eacute;dures d'organisation (ex : remisage des locos) ;</li>

<li>
coordination entre joueurs ;</li>

<li>
etc.</li>
</ul>
** L'id&eacute;e du contr&ocirc;le des consommations m'est venue du fameux
livre <b><a href="http://users.skynet.be/pro-rail/_private/sor/frsormain11.htm" target="_blank">En
train avec John Allen de Linn H. Westcott (traduit en fran&ccedil;ais par
Jacques Le Plat)</a></b>, &eacute;dit&eacute; par <b><a href="http://users.skynet.be/pro-rail/index.html" target="_blank">Pro
Rail International</a></b> (le Gorre &amp; Daphetid Railroad).
<h2>
<a NAME="scores"></a>Les scores</h2>
Un ordinateur, connect&eacute; au r&eacute;seau par le biais de capteurs,
surveille les actions des joueurs &agrave; l'aide d'un logiciel particulier.
Il v&eacute;rifie que les contraintes d'exploitation sont respect&eacute;es
et attribue un score &agrave; chaque joueur. Les joueurs qui ne respectent
pas toutes les contraintes obtiennent un score plus faible.
<h1>
<a NAME="definitions"></a>Les d&eacute;finitions pr&eacute;alables</h1>
Il est tr&egrave;s difficile de reproduire compl&egrave;tement un r&eacute;seau
ferroviaire r&eacute;el, &eacute;tant donn&eacute; l'&eacute;chelle de
r&eacute;duction (ex : H0=1/87) et la place maximum g&eacute;n&eacute;ralement
disponible.
<p>Cependant, lorsque l'on s'int&eacute;resse &agrave; l'exploitation r&eacute;aliste
du r&eacute;seau mod&egrave;le, nous sommes amen&eacute;s &agrave; consid&eacute;rer
les flux r&eacute;els de voyageurs et de marchandises, qui font normalement
intervenir de nombreuses gares, de nombreux points de passage et des distances
importantes.
<p>Lorsque l'on souhaite simuler les flux r&eacute;els de voyageurs et
de marchandises, il est possible de consid&eacute;rer :
<ul>
<li>
le r&eacute;seau mod&egrave;le (zone g&eacute;ographiquement d&eacute;limit&eacute;e)
;</li>

<li>
l'ext&eacute;rieur du r&eacute;seau, simul&eacute; alors par une "<b>coulisse</b>"
(les am&eacute;ricains appellent cette zone "fiddle yard").</li>
</ul>
Cette coulisse correspond &agrave; la gare cach&eacute;e de certains r&eacute;seaux
mod&egrave;les, qui permet de cacher les trains pour les faire appara&icirc;tre
aux observateurs au moment voulu. Contrairement &agrave; une gare cach&eacute;e,
nous consid&eacute;rons la coulisse comme enti&egrave;rement visible pour
autoriser sa gestion par un op&eacute;rateur :
<ul>
<li>
triage des wagons ;</li>

<li>
formation des convois ;</li>

<li>
remplissage ou vidage des wagons (simulation de l'activit&eacute; des usines
ext&eacute;rieures).</li>
</ul>
L'id&eacute;e de coulisse active m'est venue d'un article intitul&eacute;
"Flexible operation with a fiddle yard" by John Ozanich dans Model Railroad
Planning 1995, un magazine annuel publi&eacute; par <b><a href="http://www.kalmbach.com/" target="_blank">Kalmbach
Publishing Co.</a></b> (USA).
<h2>
<a NAME="batiments"></a>Les sites et b&acirc;timents</h2>
Diff&eacute;rentes sortes de sites et b&acirc;timents apportent un int&eacute;r&ecirc;t
pour l'exploitation. Ces sites sont &agrave; l'origine des flux de voyageurs
et de marchandises, donc &agrave; l'origine du trafic que l'on cherche
&agrave; reproduire :
<ul>
<li>
les <b>gares de voyageurs</b> ;</li>

<li>
les <b>gares de marchandises</b> (halles &agrave; marchandises et voies
associ&eacute;es) ;</li>

<li>
les <b>Embranchements Particuliers</b> (EP : usines, etc.) ;</li>

<li>
etc.</li>
</ul>
D'autres sites permettent de simuler les contraintes d'organisation de
la soci&eacute;t&eacute; de chemin de fer :
<ul>
<li>
les installations ferroviaires annexes (d&eacute;p&ocirc;ts de locomotives,
etc.) ;</li>

<li>
les centres de triage ;</li>

<li>
etc.</li>
</ul>

<h2>
<a NAME="trains"></a>Les trains</h2>
<a NAME="trains_reguliers"></a>Les trains dits "<b>r&eacute;guliers</b>"
relient les gares et sont du type :
<ul>
<li>
train de marchandises ;</li>

<li>
train de voyageurs et autorails ;</li>

<li>
train mixtes, compos&eacute;s de voitures et de wagons (MV).</li>
</ul>
<a NAME="trains_collecteurs"></a>Les trains dits "<b>collecteurs</b>" collectent
puis rassemblent &agrave; la gare la plus proche tous les wagons des usines
environnantes qui doivent &ecirc;tre exp&eacute;di&eacute;s vers l'ext&eacute;rieur.
<p>L'id&eacute;e des trains collecteurs m'est venue du fameux livre "En
train avec John Allen" de Linn H. Westcott (traduit en fran&ccedil;ais
par Jacques Le Plat), &eacute;dit&eacute; par <b><a href="http://users.skynet.be/pro-rail/index.html" target="_blank">Pro
Rail International</a></b> (le Gorre &amp; Daphetid Railroad).
<h1>
<a NAME="roles"></a>Le r&ocirc;le des joueurs</h1>
Un r&ocirc;le est attribu&eacute; &agrave; chaque joueur :
<ul>
<li>
conducteur ;</li>

<li>
chef de gare ou de zone ;</li>

<li>
chef du centre de triage cach&eacute; (coulisse).</li>
</ul>

<h2>
<a NAME="conducteur"></a>Le conducteur</h2>
Un conducteur est responsable d'un train de voyageurs ou de marchandises.
<p>Les t&acirc;ches d'un conducteur sont les suivantes :
<ul>
<li>
prendre en charge sa machine au d&eacute;p&ocirc;t (cf. proc&eacute;dure)
;</li>

<li>
conduire son train de son origine &agrave; sa destination ;</li>

<li>
respecter sa fiche horaire ;</li>

<li>
respecter le code de la route ferroviaire ;</li>

<li>
g&eacute;rer sa loco (consommations, ravitaillement) ;</li>

<li>
g&eacute;rer les signaux et aiguilles devant et derri&egrave;re son train
;</li>

<li>
g&eacute;rer son train (d&eacute;pose et enl&egrave;vement de wagons aux
points de passage) ;</li>

<li>
laisser sa machine au d&eacute;p&ocirc;t (cf. proc&eacute;dure) ;</li>

<li>
coordonner ses actions avec celles des autres joueurs.</li>
</ul>

<h2>
<a NAME="chef_gare"></a>Le chef de gare ou de zone</h2>
Le chef de gare ou de zone est responsable de tout ce qui se passe dans
sa gare ou sa zone. Ses t&acirc;ches sont les suivantes :
<ul>
<li>
g&eacute;rer le train collecteur de marchandise ;</li>

<li>
g&eacute;rer les voies en gare ;</li>

<li>
g&eacute;rer les signaux et aiguilles des voies en gare ;</li>

<li>
g&eacute;rer les locotracteurs d&eacute;di&eacute;s &agrave; la r&eacute;partition
des wagons ;</li>

<li>
g&eacute;rer la halle &agrave; marchandises.</li>
</ul>

<h2>
<a NAME="chef_triage"></a>Le chef du centre de triage cach&eacute; (coulisse)</h2>
Les t&acirc;ches du responsable de la coulisse sont les suivantes :
<ul>
<li>
r&eacute;ceptionner les trains ;</li>

<li>
m&eacute;langer et trier les wagons pour simuler le trafic ext&eacute;rieur
&agrave; la zone maquett&eacute;e ;</li>

<li>
g&eacute;rer le chargement des wagons ;</li>

<li>
exp&eacute;dier les trains (application des horaires) ;</li>

<li>
g&eacute;rer le trafic automatique.</li>
</ul>

<h1>
<a NAME="scenario"></a>Le sc&eacute;nario</h1>
Le sc&eacute;nario d&eacute;finit les <b>mouvements</b> des trains n&eacute;cessaires
&agrave; l'&eacute;coulement du trafic par le r&eacute;seau de la soci&eacute;t&eacute;
ferroviaire.
<h2>
<a NAME="trafic"></a>Le trafic</h2>
Nous consid&eacute;rons que le trafic est engendr&eacute; par :
<ul>
<li>
le d&eacute;placement des voyageurs entre les gares ;</li>

<li>
l'acheminement de marchandises entre les gares et/ou les EP.</li>
</ul>
La forme du sc&eacute;nario d&eacute;pend du type de jeu souhait&eacute;
:
<ul>
<li>
dans le cas le plus simple pour les joueurs, le sc&eacute;nario &eacute;tablit
de mani&egrave;re exhaustive une liste chronologique des mouvements, chacun
&eacute;tant pr&eacute;cis&eacute;ment dat&eacute; ;</li>

<li>
dans le cas le plus fastidieux, le sc&eacute;nario &eacute;tablit les demandes
de trafic ; ce sont les joueurs qui doivent composer les trains permettant
d'&eacute;couler ce trafic.</li>
</ul>
Le premier cas impose uniquement des t&acirc;ches d'ex&eacute;cution. Le
second cas est proche de la r&eacute;alit&eacute;, il n&eacute;cessite
des t&acirc;ches de planification, qui s'imposent effectivement aux soci&eacute;t&eacute;s
ferroviaires.
<p>Pour mon r&eacute;seau, je souhaite que le trafic se d&eacute;compose
ainsi :
<ul>
<li>
trafic majoritaire : marchandises l&eacute;g&egrave;res soumises au triage
;</li>

<li>
trafic minoritaire : voyageurs &agrave; horaires fixes.</li>
</ul>

<h2>
<a NAME="trafic_mini"></a>La simulation du trafic minimal</h2>
Lorsque peu de joueurs sont pr&eacute;sents, voire dans le cas extr&ecirc;me
d'un seul joueur, il est int&eacute;ressant de simuler un trafic minimal.
Il peut &ecirc;tre simul&eacute; par un ordinateur de commande qui assure
alors les mouvements &agrave; la mani&egrave;re d'un joueur, ou m&ecirc;me
de plusieurs.
<p>On s'aper&ccedil;oit que si l'ordinateur assure tous les mouvements,
on se retrouve alors dans le cas d'un r&eacute;seau enti&egrave;rement
automatique, ce qui n'est pas le but recherch&eacute;.
<p>Il est possible d'exploiter cette id&eacute;e avec peu de moyens : le
simple aller-retour d'un autorail (ou d'une rame r&eacute;versible) du
r&eacute;seau vers l'ext&eacute;rieur, cadenc&eacute; par un m&eacute;canisme
&eacute;lectronique voire &eacute;lectrique (relais, condensateurs) constitue
d&eacute;j&agrave; un trafic voyageurs minimal &agrave; horaires r&eacute;gulier.
<p>Il est &eacute;galement possible, dans le cas d'un r&eacute;seau en
boucle, de faire tourner en permanence un autorail &agrave; vitesse r&eacute;duite,
pour simuler un trafic voyageurs minimal &agrave; horaires r&eacute;gulier
(cette id&eacute;e m'est venue d'un article intitul&eacute; "Continuous
running on a point-to-point railroad" dans Model Railroad Planning 1996,
un magazine annuel publi&eacute; par <b><a href="http://www.kalmbach.com/" target="_blank">Kalmbach
Publishing Co.</a></b> - USA).
<h1>
<a NAME="conception"></a>La conception du r&eacute;seau pour le jeu</h1>
La r&eacute;alisation d'un r&eacute;seau o&ugrave; l'on veut simuler des
op&eacute;rations r&eacute;alistes n&eacute;cessite une conception attentive
de son plan de voies, pour permettre la mise en uvre des concepts cl&eacute;s
d'exploitation.
<p>Voici par exemple quelques questions d'importance :
<h3>
Voie unique ou double voie ?</h3>
Une voie double permet de faire circuler plus de trains simultan&eacute;ment
ce qui peut occuper plus dop&eacute;rateurs. Elle permet par exemple de
faire tourner un train en boucle simulant alors un trafic permanent dans
lequel un op&eacute;rateur doit ins&eacute;rer son train sans rien perturber.
Elle permet aussi des circulations plus complexes.
<h3>
Boucle de retournement / topographie du r&eacute;seau ?</h3>
Trois exemples :
<p>1) Un r&eacute;seau en forme dos dans un sch&eacute;ma en double voie
(sans boucle de retournement) facilite laller et le retour continu des
trains par les gares de passage : on a plus de trafic en ligne et une gestion
plut&ocirc;t simple, il faut respecter lespacement. Pour certains wagons,
il faut modifier leur chargement (les vider ou les remplir) pour simuler
lactivit&eacute;.
<p>2) Un r&eacute;seau en forme dos en voie unique impose deux boucles
de retournement : on a moins de trafic en ligne et une exploitation compliqu&eacute;e
par la gestion de loccupation de la voie (sans compter les probl&egrave;mes
&eacute;lectriques).
<p>3) Un r&eacute;seau circulaire, m&ecirc;me assez grand autour dune
pi&egrave;ce, ne permet pas de g&eacute;rer facilement laller retour des
trains (ils passent naturellement toujours dans le m&ecirc;me sens dans
les gares) : il est alors utile davoir une coulisse permettant de retourner
les trains avec une 0-5-0 (main de cinq doigts) ou une autre machine mais
cela prend du temps, &ccedil;a casse la fluidit&eacute; du trafic et &ccedil;a
rend disproportionn&eacute;es les dur&eacute;es de triage relativement
aux dur&eacute;es des parcours.
<h3>
Zones cach&eacute;es (accessibilit&eacute;) ?</h3>
Il faut &eacute;viter les zones inaccessibles pour pouvoir intervenir partout
sur le r&eacute;seau, en cas de d&eacute;raillement, en cas dencrassement
des voies n&eacute;cessitant des intervention manuelles.
<h3>
Pont tournant ou triangle de voies ?</h3>
En labsence dun dispositif pour retourner les trains dans le cas de certaines
topologies (ex : r&eacute;seau circulaire) il faut accepter que les trains
ne puissent pas effectuer des allers-retours.
<br>Par ailleurs, un pont tournant n&eacute;cessite moins d'espace qu'un
triangle de voies
<h3>
Pr&eacute;paration des trains avant ou pendant (coulisse) ?</h3>
Le garage des trains en attente dans une gare cach&eacute;e inaccessible
interdit de les retourner et den modifier la composition. Cest une des
raisons qui justifie une coulisse s&eacute;par&eacute;e du r&eacute;seau
mais ouverte pour quun op&eacute;rateur puisse y intervenir (avec une
0-5-0 !).
<h3>
<a NAME="horloge_acceleree"></a>Allongement artificiel des dur&eacute;es</h3>
Nos r&eacute;seaux &eacute;tant le plus souvent assez comprim&eacute;s,
les distances entre les gares sont tr&egrave;s courtes (quelques m&egrave;tres).
En jouant sur le facteur dacc&eacute;l&eacute;ration du temps, &agrave;
l'aide d'une <a href="horloge.html">horloge acc&eacute;l&eacute;r&eacute;e</a>,
on simule des <a href="operations.html#timetable">tableaux horaires</a>
r&eacute;alistes (avec un facteur 12, 5 minutes r&eacute;elles sont consid&eacute;r&eacute;es
comme 1 heure simul&eacute;e et 1 m&egrave;tre r&eacute;el repr&eacute;sente
1 kilom&egrave;tre simul&eacute;), mais il nemp&ecirc;che que les dur&eacute;es
r&eacute;elles des trajets, celles qui permettent aux op&eacute;rateurs
de pr&eacute;parer les t&acirc;ches suivantes, sont courtes : 10 m&egrave;tres
r&eacute;els de voie repr&eacute;sentent 10 kilom&egrave;tres parcourus
approximativement en 30 secondes r&eacute;elles &agrave; une vitesse simul&eacute;e
de 60 kilom&egrave;tres / heure. Ca ne laisse pas beaucoup de temps pour
basculer les aiguilles, d&eacute;gager les voies, se pr&eacute;parer aux
mouvements suivants, le tout sans se tromper !
<p>Lutilisation dune spirale permet de franchir des d&eacute;nivel&eacute;s
importants et permet dallonger la dur&eacute;e dun trajet entre deux
points : cela laisse un peu de temps aux op&eacute;rateurs.
<h3>
Th&egrave;me ?</h3>
Le choix du th&egrave;me a un impact tr&egrave;s important sur les possibilit&eacute;s
de jeu. Par exemple, le trafic dans les zones industrielles est important
mais surtout compos&eacute; de trains de marchandises, tandis que le trafic
en campagne sur une ligne secondaire peut &ecirc;tre moins important mais
plus vari&eacute;, avec des trains marchandises / voyageurs (MV) et des
autorails.
<h3>
Organisation du jeu ?</h3>

<ul>
<li>
nombre d'op&eacute;rateurs et r&ocirc;les associ&eacute;s ?</li>

<li>
degr&eacute; d'assistance ou d'automatisme : contr&ocirc;le manuel ou automatique
des aiguilles, des cantons, des signaux ?</li>

<li>
nombre de circulations simultan&eacute;es ?</li>

<li>
formalisation du jeu : quels formulaires, quel syst&egrave;me de num&eacute;rotation
des v&eacute;hicules, gestion des wagons ouverts pleins ou vides ?</li>
</ul>

<h1>
<a NAME="commande"></a>La commande du r&eacute;seau</h1>
De quoi a t-on besoin pour exploiter son r&eacute;seau dans de bonnes conditions
de jeu ?
<p>Dans le d&eacute;sordre :
<ul>
<li>
une commande mobile de type "walk-around" pour chaque joueur ;</li>

<li>
un c&acirc;blage simplifi&eacute; au maximum ;</li>

<li>
un partitionnement &eacute;lectrique tr&egrave;s simple du r&eacute;seau
en zones distinctes ;</li>

<li>
une commande de train g&eacute;r&eacute;e par un ordinateur, en plus des
commandes des joueurs ;</li>

<li>
une alimentation avec asservissement de vitesse pour chaque commande (permet
des ralentis extr&ecirc;mes m&ecirc;me pour les locos peu performantes)
;</li>

<li>
l'&eacute;clairage constant des feux de locos ;</li>

<li>
un Tableau de Contr&ocirc;le Optique (TCO) sur &eacute;cran d'ordinateur.</li>
</ul>
Il faut que les op&eacute;rateurs soient d&eacute;charg&eacute;s des t&acirc;ches
de gestion de l'affectation des commandes aux cantons.
<p>J'ai examin&eacute; principalement trois types de syst&egrave;mes :
<ul>
<li>
les commandes traditionnelles (transfo classique) ;</li>

<li>
les commandes de conduite s&eacute;lective (ex : CS 90, JAO) ;</li>

<li>
les commandes digitales avec d&eacute;codeur &agrave; bord des locomotives
(ex : Digital-Plus de LENZ, Commander 9 ARNOLD, MRC 2000).</li>
</ul>
<b>Tableau comparatif :</b>
<br>&nbsp;
<br>&nbsp;
<center><table BORDER CELLPADDING=4 COLS=2 WIDTH="90%" >
<tr>
<td VALIGN=TOP WIDTH="50%"><a NAME="commande"></a><b>Commande classique</b></td>

<td VALIGN=TOP WIDTH="50%"><b>Commande digitale</b></td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="50%">Il faut assembler des syst&egrave;mes disparates
parfois incompatibles, exemple : la commande Mark II est incompatible avec
le g&eacute;n&eacute;rateur 50 khz car tout composant &eacute;lectrique
(bobine de d&eacute;couplage) intercal&eacute; dans le c&acirc;blage perturbe
le fonctionnement de l'asservissement de cette commande.</td>

<td VALIGN=TOP WIDTH="50%">Une seule centrale "&eacute;quivaut" &agrave;
plusieurs transformateurs classiques d&eacute;j&agrave; sophistiqu&eacute;s
(avec des d&eacute;codeurs &agrave; simulation d'inertie et asservissement)
et int&egrave;gre de plus la fonction d'&eacute;clairage constant. Il faut
installer un d&eacute;codeur dans chaque locomotive.</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="50%">Le c&acirc;blage devient rapidement complexe
avec tous les probl&egrave;mes associ&eacute;s (de nombreux mod&eacute;listes
ont d&eacute;j&agrave; exprim&eacute; les difficult&eacute;s rencontr&eacute;es
et les solutions possibles).</td>

<td VALIGN=TOP WIDTH="50%">Le c&acirc;blage est r&eacute;duit au minimum
par conception du syst&egrave;me digital.</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="50%">Pendant une s&eacute;ance de jeu, l'exploitation
des zones &eacute;lectriques n&eacute;cessite presque un op&eacute;rateur
d&eacute;di&eacute; si on veut &eacute;viter les courts-circuits ou les
mauvaises surprises. Par exemple, pris dans l'action, il n'est pas rare
de voir un train s'arr&ecirc;ter brutalement en changeant de zone &eacute;lectrique
&agrave; cause d'une mauvaise affectation de la commande de l'op&eacute;rateur.</td>

<td VALIGN=TOP WIDTH="50%">Il n'y a pas de zone &eacute;lectrique, donc
pas d'exploitation associ&eacute;e.</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="50%">Sur un r&eacute;seau assez petit, il est impossible
de faire se suivre deux trains : cela n&eacute;cessite alors un vrai bloc
syst&egrave;me ou une commande s&eacute;lective par exemple. Il est impossible
de g&eacute;rer &agrave; la main la vitesse des trains en m&ecirc;me temps
que l'affectation des commandes aux zones &eacute;lectriques (en particulier
quand les zones sont courtes), sans compter les autres actions &agrave;
mener (commande des aiguilles, pr&eacute;paration des manuvres, etc.).</td>

<td VALIGN=TOP WIDTH="50%">Il est facile de se faire suivre plusieurs trains,
chacun ayant sa commande de vitesse.</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="50%">Il est impossible de venir accoupler une machine
avec une autre &agrave; l'arr&ecirc;t (sauf si l'accouplement vient &agrave;
&ecirc;tre effectu&eacute; &agrave; un endroit o&ugrave; il existe une
fronti&egrave;re entre deux zones &eacute;lectriques).</td>

<td VALIGN=TOP WIDTH="50%">L'accouplement est possible n'importe o&ugrave;,
ensuite la conduite des deux machines n&eacute;cessite de les commander
en parall&egrave;le (pousser les deux curseurs en m&ecirc;me temps) ou
d'affecter le m&ecirc;me code num&eacute;rique aux deux machines.</td>
</tr>
</table></center>
Du point de vue de l'exploitation, la solution de commande classique limite
les possibilit&eacute;s et complique le jeu pour les op&eacute;rateurs.
<p>Au titre des avantages, le prix d'une commande traditionnelle reste
faible, en tout cas il est encore assez inf&eacute;rieur &agrave; celui
d'une commande digitale. En outre, les locomotives n'ont pas besoin d'&ecirc;tre
modifi&eacute;es (par exemple, &ecirc;tre &eacute;quip&eacute;es de d&eacute;codeurs).
L'utilisation de l'&eacute;clairage constant reste tout de m&ecirc;me un
probl&egrave;me car il n'est pas si facile que &ccedil;a &agrave; mettre
en uvre.
<p>Les commandes de conduite s&eacute;lective ont pour moi l'inconv&eacute;nient
de ne pas &ecirc;tre fond&eacute;es sur une norme standardis&eacute;e reconnue
par les constructeurs. Leur prix reste assez &eacute;lev&eacute;.
<p>Au contraire, la plupart des commandes digitales sont d&eacute;sormais
bas&eacute;es sur le standard DCC de la <b><a href="http://www.nmra.org/" target="_blank">NMRA</a></b>
ce qui constitue un gage de p&eacute;rennit&eacute; et de diminution des
prix de par le jeu de la concurrence.
<h1>
<a NAME="supervision"></a>La supervision et le logiciel de jeu</h1>
Le syst&egrave;me de supervision impose l'utilisation d'un ordinateur et
d'un logiciel. Il serait probablement possible de r&eacute;aliser un syst&egrave;me
enti&egrave;rement &eacute;lectronique mais il ne serait pas &eacute;volutif.
<h2>
<a NAME="prog_supervision"></a>Le programme de supervision</h2>

<h3>
Les fonctions du programme de supervision</h3>
Le mode de fonctionnement recherch&eacute; n&eacute;cessite principalement
lentr&eacute;e de signaux provenant soit du r&eacute;seau vers lordinateur,
soit du clavier.
<p>Le programme de supervision est charg&eacute; de :
<ul>
<li>
afficher lheure acc&eacute;l&eacute;r&eacute;e ;</li>

<li>
afficher la gare courante ;</li>

<li>
contr&ocirc;ler le chemin emprunt&eacute; par les trains ;</li>

<li>
contr&ocirc;ler le respect des consignes de vitesse ;</li>

<li>
contr&ocirc;ler le respect du tableau des horaires (arr&ecirc;ts aux stations
pr&eacute;vues, heures darriv&eacute;e, heures de d&eacute;part) ;</li>

<li>
simuler la consommation des locomotives et contr&ocirc;ler le r&eacute;approvisionnement
(bouton ou clavier), le cas &eacute;ch&eacute;ant, il est n&eacute;cessaire
de d&eacute;p&ecirc;cher sur place une autre locomotive, ce qui perturbe
le trafic ;</li>

<li>
commander les signaux et contr&ocirc;ler le respect des signaux ;</li>

<li>
commander l&eacute;clairage du r&eacute;seau (jour, nuit) ;</li>

<li>
commander la coupure dalimentation de certaines sections pour simuler
des pannes de carburant ou des avaries du mat&eacute;riel ;</li>

<li>
calculer le score ;</li>

<li>
etc.</li>
</ul>

<h3>
Le mat&eacute;riel &eacute;lectronique et informatique</h3>
<b>La solution mat&eacute;rielle permettant de r&eacute;aliser un programme
de supervision avec les fonctions d&eacute;crites pr&eacute;c&eacute;demment
consiste en :</b>
<ul>
<li>
un ordinateur PC avec un port parall&egrave;le et un port s&eacute;rie
(ex : mon vieux 8086) ;</li>

<li>
un bo&icirc;tier dinterface que je compte r&eacute;aliser moi-m&ecirc;me
(ex : mod&egrave;le avec 4 entr&eacute;es et 8 sorties &agrave; brancher
sur le port parall&egrave;le du PC, je recommande &agrave; ce propos un
bo&icirc;tier du commerce (ex : mod&egrave;le ORD102 pr&ecirc;t &agrave;
l'emploi de la soci&eacute;t&eacute; <b><a href="http://www.electrome.fr/" target="_blank">ELECTROME</a></b>
avec 8 entr&eacute;es isol&eacute;es et 8 sorties sur relais &agrave; brancher
sur le port s&eacute;rie du PC, environ 230 Euros TTC) ;</li>

<li>
quelques contacts ILS dispos&eacute;s aux endroits strat&eacute;giques
du r&eacute;seau et en entr&eacute;e/sortie de la gare (remarque : une
seule locomotive peut alors &ecirc;tre facilement contr&ocirc;l&eacute;e)
;</li>

<li>
lallumage et lextinction progressive de la lumi&egrave;re, en douceur,
peut &ecirc;tre r&eacute;alis&eacute;e par un module &eacute;lectronique
(ex : kit K2657 de Velleman-kit environ 25 Euros TTC).</li>
</ul>
<b><u>Quelques pr&eacute;cisions :</u></b>
<p>Cette solution de supervision offre lavantage d&ecirc;tre ind&eacute;pendante
du syst&egrave;me dalimentation qui peut &ecirc;tre classique ou num&eacute;rique
: actuellement, j'utilise soit deux commandes classiques, soit une commande
<b><a href="http://www.modelrec.com/" target="_blank">MRC</a></b>
2000 (voir <b><a href="http://www.locorevue.com/" target="_blank">LOCO
REVUE</a></b> n&deg;620 12/98, voir &eacute;galement le Hors-S&eacute;rie
Electronique paru en 12/98 pour une &eacute;tude comparative de plusieurs
syst&egrave;mes dalimentation num&eacute;riques).
<p>Pour moi, cette solution offre lavantage de me permettre dutiliser
mon vieux 8086 en MS DOS 3.2 alors que ladoption dun syst&egrave;me num&eacute;rique
mobligerait &agrave; utiliser au moins un 486 (toutefois, le bo&icirc;tier
ORD102 peut &eacute;galement &ecirc;tre connect&eacute; &agrave; mon PENTIUM).
&Eacute;videmment, avec un vieux PC, je ne peux pas r&eacute;aliser un
programme Windows et je suis oblig&eacute; de r&eacute;aliser une interface
en mode monochrome.
<p>Dans mon cas, il faut noter que le r&eacute;seau est constitu&eacute;
dune voie unique de longueur assez limit&eacute;e (12 m&egrave;tres en
boucle) et dune gare unique. Je souhaite pourtant r&eacute;aliser des
sc&eacute;narios passant par plusieurs gares. Jai donc adopt&eacute; le
principe que lunique gare r&eacute;elle peut repr&eacute;senter plusieurs
gares fictives. Tout sc&eacute;nario passant virtuellement par plusieurs
gares boucle par lunique gare r&eacute;elle existante sur le r&eacute;seau.
Pour aider les joueurs, lordinateur affiche alors le nom de la gare courante,
les joueurs ne doivent pas tenir compte du nom inscrit sur le b&acirc;timent
de la gare r&eacute;elle (l&agrave; encore, lordinateur apporte une aide).
<p>Les contacts ILS ne permettant de distinguer de mani&egrave;re simple
quune seule locomotive, les joueurs conducteurs doivent r&eacute;aliser
le plan pr&eacute;vu au tableau horaire chacun leur tour pour que le programme
puisse calculer leur score (voir <a href="#note1">note 1</a>). Toutefois,
le syst&egrave;me reste &eacute;volutif car il faut noter que lutilisation
dun syst&egrave;me de reconnaissance de type code &agrave; barre (voir
<b><a href="http://www.locorevue.com/" target="_blank">LOCO
REVUE</a></b> n&deg;604 06/97 et n&deg;605 07-08/97) &agrave; la place
des ILS permettrait alors au programme de g&eacute;rer simultan&eacute;ment
plusieurs trains, donc plusieurs joueurs.
<p><a NAME="note1"></a><font size=-1>(note 1) : Cette contrainte nenl&egrave;ve
pas dint&eacute;r&ecirc;t au jeu car plusieurs joueurs sont requis pour
ex&eacute;cuter ce type de sc&eacute;nario : un conducteur, un contr&ocirc;leur
pour les aiguillages et un chef de gare.</font>
<h2>
<a NAME="prog_generation"></a>Le programme de g&eacute;n&eacute;ration
de sc&eacute;nario</h2>
Lors de mes premi&egrave;res recherches en 1996, je ne trouvais quasiment
pas de logiciel pour g&eacute;n&eacute;rer des sc&eacute;narios de jeu
qui soient ind&eacute;pendants de produits sp&eacute;cifiques tels que,
par exemple, les commandes num&eacute;riques avec interface ordinateur.
Ayant les comp&eacute;tences n&eacute;cessaires, j'ai donc d&eacute;cid&eacute;
de r&eacute;aliser mon propre programme pour me faciliter la mise au point
de sc&eacute;narios de jeu, selon des param&egrave;tres tels que :
<ul>
<li>
la liste des locomotives, wagons et voitures en jeu ;</li>

<li>
les dur&eacute;es des trajets entre les zones et la dur&eacute;e des arr&ecirc;ts
en gare ;</li>

<li>
les heures et la dur&eacute;e du sc&eacute;nario ;</li>

<li>
etc.</li>
</ul>
Je voulais un programme ind&eacute;pendant de la commande des trains, assez
g&eacute;n&eacute;ral et param&eacute;trable pour s'adapter &agrave; diff&eacute;rentes
situations de jeu. J'&eacute;tais confort&eacute; dans cette id&eacute;e
par la lecture de plusieurs articles pr&eacute;sentant des r&eacute;seaux
r&eacute;alis&eacute;s par des am&eacute;ricains qui organisaient des s&eacute;ances
de jeu &agrave; grande &eacute;chelle.
<p>En 1997, j'ai effectivement r&eacute;alis&eacute; un prototype de programme
de g&eacute;n&eacute;ration pour me permettre de g&eacute;n&eacute;rer
des sc&eacute;narios pour mon plan de voies. J'ai r&eacute;alis&eacute;
ce programme en une dizaine de jours en langage lisp sur mon vieux PC.
Ce programme g&eacute;n&egrave;re deux tableaux : la liste des v&eacute;hicules
avec leurs mouvements horodat&eacute;s, et la liste chronologique des mouvements.
La premi&egrave;re liste donne sur une unique page A4 les m&ecirc;mes informations
que les fameux <i>way bills</i> des r&eacute;seaux am&eacute;ricains (feuille
de route de chaque wagon). Mes conclusions sur cette exp&eacute;rience
sont &agrave; ce jour les suivantes : &agrave; moins d&ecirc;tre un club
organisant fr&eacute;quemment de nouveaux sc&eacute;narios dans des conditions
changeantes (ex : plan de voies modifiable selon lagencement de modules),
il est plus rapide de calculer ses sc&eacute;narios avec un outil de saisie
tel quun traitement de texte ou mieux un tableur que de param&eacute;trer
un programme. Le plan de voies du r&eacute;seau contraignant fortement
les possibilit&eacute;s pour les sc&eacute;narios, dans un premier temps
il faut d&eacute;terminer les types de sc&eacute;narios possibles et ensuite
faire varier les param&egrave;tres ind&eacute;pendants du plan de voies
(ex : type de trafic, horaires, r&egrave;gles, etc.).
<p>Maintenant, <b>jutilise un tableur pour mettre en forme un <a href="#timetable">tableau
horaire g&eacute;n&eacute;ral (<i>timetable</i>)</a> et des <a href="#switchlist">listes
de r&eacute;partition des wagons (<i>switch list</i>)</a> pour chaque sc&eacute;nario.</b>
<p>Lintelligence n&eacute;cessaire pour construire des sc&eacute;narios
pertinents et int&eacute;ressants avec de nombreux param&egrave;tres possibles
est difficile &agrave; mettre dans un programme de calcul automatique.
La r&eacute;alisation dun programme personnalis&eacute; nest pas rentable
si le nombre de sc&eacute;narios &agrave; r&eacute;aliser est potentiellement
faible. Lutilisation dun programme existant apporterait un plus &agrave;
condition quil soit suffisamment g&eacute;n&eacute;rique pour sadapter
aux nombreux cas possibles et donc ainsi aux cas qui nous pr&eacute;occupent.
Finalement, lutilisation dun tableur constitue peut-&ecirc;tre un bon
compromis en permettant de r&eacute;aliser certains calculs (somme des
dur&eacute;es, longueurs, poids, calcul de moyennes, etc.) qui facilitent
le travail du concepteur et en permettant une mise en page totalement personnalis&eacute;e.
<p><b>R&eacute;f&eacute;rences :</b>
<p>Pendant le temps que jai pass&eacute; &agrave; exp&eacute;rimenter
tout ceci (1996-1998), sont apparus plusieurs programmes vendus par des
&eacute;diteurs sp&eacute;cialis&eacute;s ou parfois gratuits (freewares).
Le lecteur int&eacute;ress&eacute; pourra consulter le Hors-S&eacute;rie
Electronique paru en 12/98 chez <b><a href="http://www.locorevue.com/" target="_blank">LOCO
REVUE</a></b>, num&eacute;ro accompagn&eacute; dun c&eacute;d&eacute;rom
contenant quelques programmes de ce type en version de d&eacute;monstration
et les adresses de plusieurs &eacute;diteurs.
<h1>
<a NAME="documents"></a>Les documents pour la simulation</h1>

<h2>
<a NAME="timetable"></a>Tableau horaire</h2>
Pour commencer mes essais, j'ai con&ccedil;u cette premi&egrave;re version
d'un tableau horaire simple, relatif au trafic de convois de marchandises.
J'ai ajust&eacute; les horaires apr&egrave;s les premiers essais sur mon
r&eacute;seau.
<p>Les horaires sont li&eacute;s &agrave; l'utilisation de mon <a href="horloge.html">horloge
acc&eacute;l&eacute;r&eacute;e</a> (d'un facteur 12), et &agrave; la mesure
des distances repr&eacute;sent&eacute;es par le r&eacute;seau, compte-tenu
de l'&eacute;chelle de r&eacute;duction au 1/87 et au facteur d'acc&eacute;l&eacute;ration.
Pour m&eacute;moire, avec ces deux param&egrave;tres, un m&egrave;tre r&eacute;el
de voie du r&eacute;seau repr&eacute;sente environ un kilom&egrave;tre
fictif. Mon programme de supervision sur PC, enregistre chaque passage
du train &agrave; l'entr&eacute;e de la gare et calcule sa vitesse moyenne
sur le parcours. Les vitesses entre deux gares constat&eacute;es lors de
mes premiers essais varient entre 40 Km/heure et 60 Km/heure &agrave; l'&eacute;chelle.
Il est &eacute;galement n&eacute;cessaire d'&eacute;talonner la commande
du train pour que le conducteur sache quelle est sa vitesse &agrave; chaque
cran du bouton de commande.
<p>Pour ce premier tableau, je me suis inspir&eacute; du formulaire de
type <i>Timetable</i> pr&eacute;sent&eacute; par Jack Burgess pour son
<a href="http://www.yosemitevalleyrr.com" target="_blank">Yosemite
Valley Railroad</a>. Je l'ai r&eacute;alis&eacute; avec un tableur standard.
<p><img SRC="../images/timetable.gif" ALT="Tableau horaire / Timetable (20 Ko)" height=563 width=535>
<p>Les temps indiqu&eacute;s correspondent aux arr&ecirc;ts en gare. Lorsque
deux heures sont indiqu&eacute;es pour une m&ecirc;me gare (en gras), elles
correspondent aux heures d'arriv&eacute;e et de d&eacute;part, sinon lorsqu'une
seule heure est indiqu&eacute;e, le temps d'arr&ecirc;t standard est de
3 minutes (le temps de d&eacute;charger le courrier...).
<p>J'ai pu d&eacute;j&agrave; constater qu'il n'est pas si facile de tenir
l'horaire car tout &eacute;cart est d&eacute;multipli&eacute; par le facteur
d'acc&eacute;l&eacute;ration utilis&eacute;. Cela m'am&egrave;ne &agrave;
penser qu'il faudrait maintenant que je r&eacute;alise des essais avec
un facteur 6, comme certains mod&eacute;listes. Dans tous les reportages
que j'ai pu lire sur ce sujet, les mod&eacute;listes utilisent g&eacute;n&eacute;ralement
un facteur de 6, 10 ou 12.
<p>Autre point important, on ressent une certaine dilatation du temps pour
tous les mouvements qui doivent &ecirc;tre effectu&eacute;s en gare car
l&agrave; on doit r&eacute;aliser les manoeuvres sur une &eacute;chelle
de temps non acc&eacute;l&eacute;r&eacute;e (on ne peut pas d&eacute;placer
les wagons &agrave; toute vitesse) et on constate sur le tableau horaire
des dur&eacute;es de une &agrave; deux heures pour manoeuvrer seulement
quelques wagons.
<p>Dans les semaines et les mois &agrave; venir, je vais essayer d'autres
horaires avec plus de vari&eacute;t&eacute; dans les types de relations.
<h2>
<a NAME="switchlist"></a>Liste de r&eacute;partition des wagons (sc&eacute;nario
1)</h2>
<img SRC="../images/switchlist.gif" ALT="Liste de répartition des wagons / Switchlist (10 Ko)" height=544 width=406 align=LEFT>
<p>Pour un m&ecirc;me tableau horaire, il est possible de r&eacute;aliser
plusieurs sc&eacute;narios en fonction des wagons et des mouvements concern&eacute;s.
J'ai commenc&eacute; modestement, avec un sc&eacute;nario simple n'incluant
que quelques wagons. De plus, ce sont des couverts ou des citernes, donc
la gestion de leur chargement n'est pas &agrave; faire dans ce sc&eacute;nario.
<p>Il faut pr&eacute;voir l'organisation des mouvements dans les gares
avant de les atteindre. En effet, il faut pr&eacute;voir l'occupation des
voies et la disponibilit&eacute; de locomotives sur place pour effectuer
la livraison des wagons aux embranchements particuliers.
<p>J'utilise une d&eacute;signation des wagons qui permet de les rep&eacute;rer
facilement par leur type et leur couleur. Les lieux d'origine et de destination
sont indiqu&eacute;s par les bigrammes des gares, tels qu'indiqu&eacute;s
sur le tableau horaire. Les wagons sont tri&eacute;s en fonction de leur
lieu de d&eacute;part.
<p>Pour ce formulaire, je me suis inspir&eacute; du formulaire de type
<i>Switchlist</i>
pr&eacute;sent&eacute; par Jack Burgess pour son <a href="http://www.yosemitevalleyrr.com" target="_blank">Yosemite
Valley Railroad</a>, ainsi que des informations des formulaires propos&eacute;s
par le logiciel Ship
It! Car Cards Version 1.0 from Albion Software. Je l'ai r&eacute;alis&eacute;
avec un tableur standard.
<p>Dans les semaines et les mois &agrave; venir, je vais essayer d'autres
sc&eacute;narios en y ajoutant des mouvements &agrave; r&eacute;aliser
dans les gares. Avec mon nouveau syst&egrave;me Digital, Je vais essayer
de faire &eacute;voluer simultan&eacute;ment un train dans chaque sens,
ou un train collecteur avec un train r&eacute;gulier.
<br>
<hr SIZE=3 NOSHADE WIDTH="100%">
<center><b><a href="main.html">RETOUR A LA PAGE PRINCIPALE</a></b></center>

</body>
</html>
